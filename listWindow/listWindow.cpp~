#include "listWindow.h"
#include "../probeSetWidget/probeSetWidget.h"
#include <qpoint.h>
#include <qlayout.h>
#include <qwidget.h>
#include <qscrollview.h>
#include <qlabel.h>
#include <qstring.h>
#include <qframe.h>
#include <qsize.h>
#include <qpushbutton.h>
#include <deque>
#include <iostream>

using namespace std;

ListWindow::ListWindow(QWidget* parent, const char* name) :
  QWidget(parent, name)
{
  // set up the QGridLayout, and create a vector of Labels,, just containing the number,, 
  // 
  cout << "at the beginning of listwindow" << endl;

  base = new QVBoxLayout(this);

  QScrollView* scroll = new QScrollView(this);
  frame = new QFrame(scroll->viewport());
  scroll->addChild(frame);

  grid = new QVBoxLayout(frame);
  grid->setDirection(QBoxLayout::Up);
  cout << "set up grid and stuff, but haven't done much else" << endl;
  base->addWidget(scroll);
  resize(390, 300);
}

void ListWindow::addItem(ProbeSetWidget* pset){
  cout << "\t\tADDING ProbeSetWidget.. arggh,,, , I HOPE !! WHAT'S GOING ON" << endl;
  pset->reparent(frame, QPoint(0, 0));
  grid->addWidget(pset);       // put at front!!!;
  pset->show();
  QSize fSize = frame->sizeHint();
  resize(fSize.width()+18, 300);
}

void ListWindow::addButton(QPushButton* button){
  button->reparent(this, QPoint(0, 0));
  base->addWidget(button);
  button->show();
}
