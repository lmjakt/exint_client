#include "exportWindow.h"
#include <qlabel.h>
#include <qlayout.h>

ExportWindow::ExportWindow(std::set<ExpressionPlotter::PlotType> plotTypes, QWidget* parent, const char* name)
    QWidget(parent, name) :
{
    for(set<ExpressionPlotter::PlotType>::iterator it=plotTypes.begin(); it != plotTypes.end(); plotTypes++){
	switch(*it){
	    case RAW:
		typeBoxes.insert(make_pair(*it, new QCheckBox("Raw", this, "raw")));
		break;
	    case MODEL:
		typeBoxes.insert(make_pair(*it, new QCheckBox("Model", this, "model")));
		break;
	    default :
		std::cerr << "ExportWindow unknown plotType : " << (*it) << std::endl;
	}
    }
    // the following max Sizes are based on the assumption that the QPrinter
    // will be set up at screen resolution (~72 dpi) and that a paper size of B0
    // will be selected with a landscape orientation. This will give a max width 
    // of 1425 mm and max height of 1030 mm. This isn't a particularly smart way of
    // doing it.. - but I my experience is that if we don't do it like this we'll get
    // some issues with the font sizes (since the font size may be set in points).
    // However, we should probably play around with this a bit and see what happens.
    widthBox = new QSpinBox(100, 4000, 10, this, "widthBox");
    heightBox = new QSpinBox(100, 2000, 10, this, "heightBox");
	
